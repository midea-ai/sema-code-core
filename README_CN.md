<div align="center">

<img src="./imgs/logo.png" alt="Sema Code Core Logo" width="75%"/>

<h3>äº‹ä»¶é©±åŠ¨å‹ AI ç¼–ç¨‹åŠ©æ‰‹æ ¸å¿ƒå¼•æ“</h3>

<p>ä¸ºæ„å»ºä»£ç åŠ©æ‰‹å·¥å…·æä¾›å¯é ã€å¯æ’æ‹”çš„æ™ºèƒ½å¤„ç†èƒ½åŠ›</p>

[![GitHub License](https://img.shields.io/github/license/midea-ai/sema-code-core?style=flat-square)](https://github.com/midea-ai/sema-code-core/blob/main/LICENSE)
[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/midea-ai/sema-code-core)
[![npm version](https://img.shields.io/npm/v/sema-core?style=flat-square)](https://www.npmjs.com/package/sema-core)
[![Documentation](https://img.shields.io/badge/docs-GitHub%20Pages-blue?style=flat-square)](https://midea-ai.github.io/sema-code-core)

<br/>

**ç®€ä½“ä¸­æ–‡** | [English](./README.md)

</div>

---

## ç›®å½•

- [æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ä½¿ç”¨æ¡ˆä¾‹](#-ä½¿ç”¨æ¡ˆä¾‹)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [å¼€å‘](#-å¼€å‘)

---

## é¡¹ç›®æ¦‚è¿°

**Sema Code Core** æ˜¯ä¸€ä¸ªäº‹ä»¶é©±åŠ¨å‹ AI ç¼–ç¨‹åŠ©æ‰‹æ ¸å¿ƒå¼•æ“ï¼Œä¸ºæ„å»ºä»£ç åŠ©æ‰‹å·¥å…·æä¾›å¯é ã€å¯æ’æ‹”çš„æ™ºèƒ½å¤„ç†èƒ½åŠ›ã€‚æ”¯æŒå¤šæ™ºèƒ½ä½“ååŒã€Skill æ‰©å±•ã€Plan æ¨¡å¼ä»»åŠ¡è§„åˆ’ç­‰æ ¸å¿ƒèƒ½åŠ›ï¼Œå¯å¿«é€Ÿé›†æˆåˆ°å„ç±» AI ç¼–ç¨‹å·¥å…·ä¸­ã€‚

> **[æŸ¥çœ‹å®Œæ•´æ–‡æ¡£](https://midea-ai.github.io/sema-code-core)**

## âœ¨ æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | è¯´æ˜ |
|:-----|:-----|
| **è‡ªç„¶è¯­è¨€æŒ‡ä»¤** | é€šè¿‡è‡ªç„¶è¯­è¨€ç›´æ¥é©±åŠ¨ç¼–ç¨‹ä»»åŠ¡ |
| **æƒé™æ§åˆ¶** | ç»†ç²’åº¦çš„æƒé™ç®¡ç†ï¼Œç¡®ä¿æ“ä½œå®‰å…¨å¯æ§ |
| **Subagent ç®¡ç†** | æ”¯æŒå¤šæ™ºèƒ½ä½“ååŒå·¥ä½œï¼Œå¯æ ¹æ®ä»»åŠ¡ç±»å‹åŠ¨æ€è°ƒåº¦åˆé€‚çš„å­ä»£ç† |
| **Skill æ‰©å±•æœºåˆ¶** | æä¾›æ’ä»¶åŒ–æ¶æ„ï¼Œå¯çµæ´»æ‰©å±• AI ç¼–ç¨‹èƒ½åŠ› |
| **Plan æ¨¡å¼ä»»åŠ¡è§„åˆ’** | æ”¯æŒå¤æ‚ä»»åŠ¡çš„åˆ†è§£ä¸æ‰§è¡Œè§„åˆ’ |
| **MCP åè®®æ”¯æŒ** | å†…ç½® Model Context Protocol æœåŠ¡ï¼Œæ”¯æŒå·¥å…·æ‰©å±• |
| **å¤šæ¨¡å‹æ”¯æŒ** | å…¼å®¹ Anthropicã€OpenAI SDKï¼Œæ”¯æŒå›½å†…å¤–ä¸»æµå‚å•† LLM API |

## ğŸ¯ é€‚ç”¨åœºæ™¯

- **IDE / ç¼–è¾‘å™¨æ’ä»¶å¼€å‘** â€” ä¸ºç¼–è¾‘å™¨æä¾›åº•å±‚ AI èƒ½åŠ›å°è£…ï¼Œå¼€å‘è€…åªéœ€ä¸“æ³¨ UI äº¤äº’ï¼Œæ— éœ€è‡ªç ”å¤æ‚çš„å¤§æ¨¡å‹è°ƒåº¦ä¸å·¥å…·è°ƒç”¨é€»è¾‘ã€‚

- **ä¼ä¸šå†…éƒ¨ç ”å‘å·¥å…·** â€” ç§æœ‰åŒ–éƒ¨ç½² + æƒé™ç®¡æ§ï¼Œé€‚é…ä¼ä¸šè‡ªæœ‰æ¨¡å‹ä¸å®‰å…¨è§„èŒƒã€‚å¼€ç®±å³ç”¨çš„å·¥å…·é“¾ï¼Œé¿å…ä»é›¶æ„å»º AI ç¼–ç¨‹åŸºç¡€è®¾æ–½ã€‚

- **å‚ç›´é¢†åŸŸæ™ºèƒ½å·¥ä½œæµ** â€” å°†å¤æ‚å·¥ç¨‹ä»»åŠ¡ï¼ˆè¿ç§»ã€é‡æ„ã€æ–‡æ¡£ï¼‰æ‹†è§£ä¸ºè‡ªåŠ¨åŒ–æµç¨‹ã€‚å¤šæ™ºèƒ½ä½“ååŒæ‰§è¡Œï¼Œæ›¿ä»£äººå·¥å¤„ç†é‡å¤æ€§ä»£ç å·¥ä½œã€‚

- **å­¦æœ¯ç ”ç©¶ä¸ Agent åŸå‹éªŒè¯** â€” ä¸ºå­¦æœ¯æœºæ„ä¸ç‹¬ç«‹ç ”ç©¶è€…æä¾›è½»é‡çº§ Agent å®éªŒç¯å¢ƒï¼Œæ”¯æŒçµæ´»ç»„åˆå·¥å…·é“¾ä¸æ™ºèƒ½ä½“ç­–ç•¥ï¼Œè®©ç ”ç©¶è€…èšç„¦ç®—æ³•åˆ›æ–°ã€‚

## ğŸ“¦ ä½¿ç”¨æ¡ˆä¾‹

### VSCode Extension

[Sema Code VSCode Extension](https://github.com/midea-ai/sema-code-vscode-extension) æ˜¯åŸºäº Sema Code Core å¼•æ“çš„ VSCode æ™ºèƒ½ç¼–ç¨‹æ’ä»¶ã€‚

<p align="center">
  <img src="./docs/images/sema.gif" alt="Sema Code VSCode Extension" width="90%"/>
</p>

### Skill Web App

åŸºäº Sema Code Core çš„ Skill ç½‘é¡µåº”ç”¨ï¼Œé›†æˆ Agent Skill Browser / Creator / Playground æ¼”ç¤ºã€‚

<p align="center">
  <img src="./docs/images/skill-web-app-demo.gif" alt="Skill Web App" width="90%"/>
</p>

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
npm install sema-core
```

### äº¤äº’å¼ CLI ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„å‘½ä»¤è¡Œå¯¹è¯ç¤ºä¾‹ [quickstart.mjs](https://github.com/midea-ai/sema-code-core/tree/main/example/quickstart.mjs)ï¼Œä¿å­˜åˆ°æœ¬åœ°å¹¶æ‰§è¡Œï¼š

```bash
node quickstart.mjs
```

### æœ€ç®€ç¤ºä¾‹

```javascript
import { SemaCore } from 'sema-core'

// 1. åˆ›å»ºå®ä¾‹
const sema = new SemaCore({
  '/path/to/your/project', // ä¿®æ”¹ä¸ºä½ çš„é¡¹ç›®è·¯å¾„
})

// 2. æ·»åŠ æ¨¡å‹
// é…ç½®æ¨¡å‹ï¼ˆä»¥ DeepSeek ä¸ºä¾‹ï¼Œæ›´å¤šæä¾›å•†è§"æ–°å¢æ¨¡å‹"æ–‡æ¡£ï¼‰
const modelConfig = {
  provider: 'deepseek',
  modelName: 'deepseek-chat',
  baseURL: 'https://api.deepseek.com/anthropic',
  apiKey: 'sk-your-api-key', // æ›¿æ¢ä¸ºä½ çš„ API Key
  maxTokens: 8192,
  contextLength: 128000
};
const modelId = `${modelConfig.modelName}[${modelConfig.provider}]`;
await core.addModel(modelConfig);
await core.applyTaskModel({ main: modelId, quick: modelId });

// 3. ç›‘å¬æµå¼æ–‡æœ¬è¾“å‡º
sema.on('message:text:chunk', ({ delta }) => {
  process.stdout.write(delta ?? '')
})

// 4. ç›‘å¬å·¥å…·æ‰§è¡Œ
sema.on('tool:execution:complete', ({ toolName, summary }) => {
  console.log(`\n[${toolName}] ${summary}`)
})

// 5. å¤„ç†æƒé™è¯·æ±‚
sema.on('tool:permission:request', ({ toolName }) => {
  // è‡ªåŠ¨åŒæ„ï¼ˆç”Ÿäº§ç¯å¢ƒè¯·å®ç°äº¤äº’å¼ç¡®è®¤ï¼‰
  sema.respondToToolPermission({ toolName, selected: 'agree' })
})

// 6. ç›‘å¬å®Œæˆä¿¡å·
sema.on('state:update', ({ state }) => {
  if (state === 'idle') console.log('\n--- å®Œæˆ ---\n')
})

// 7. åˆ›å»ºä¼šè¯å¹¶å‘é€æ¶ˆæ¯
await sema.createSession()
sema.processUserInput('å¸®æˆ‘åˆ†æè¿™ä¸ªé¡¹ç›®çš„ä»£ç ç»“æ„')
```

## ğŸ›  å¼€å‘

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. ç¼–è¯‘
npm run build

# 3. è¿è¡Œæµ‹è¯•
node test/addModel.test.js
node test/miniCli.test.js
```

<p align="center">
  <img src="./imgs/mini-cli.png" alt="miniCli" width="80%"/>
</p>

<details>
<summary><strong>ripgrep è·¨å¹³å°æ‰“åŒ…è¯´æ˜ï¼ˆMac/Win å…¼å®¹ï¼‰</strong></summary>

```bash
# é¦–æ¬¡æ‰“åŒ…å‰ï¼Œä¸‹è½½åŒå¹³å° ripgrep ä¾èµ–æ–‡ä»¶
./download-ripgrep.sh
```

</details>
